<!DOCTYPE HTML>

<html>
	<head>
		<title>Final Project - Cart follower</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
		<link rel="stylesheet" href="assets/css/main.css" />
		<noscript><link rel="stylesheet" href="assets/css/noscript.css" /></noscript>
	</head>
	<body class="is-preload">

    <!-- Wrapper -->
        <div id="wrapper">

        <!-- Header -->
            <header id="header">
                <a href="index.html" class="logo"><strong>Frosti</strong> <span> Tölvustýrður vélbúnaður - VÉL205M</span></a>
                <nav>
                    <a href="#menu">Menu</a>
                </nav>
            </header>

        <!-- Menu -->
            <nav id="menu">

                <ul class="links">
                    <li><a href="index.html">Heim</a></li>
                    <li><a href="ferilskra.html">Ferilskrá</a></li>
                    <li><a href="verkefni_1.html">Verkefni 1</a></li>
                    <li><a href="verkefni_2.html">verkefni 2</a></li>                            
                    <li>
                        <span class="opener"> Tölvustýrður vélbúnaður - VEL205M</span>
                        <ul class ="links">
                            <li><a href="Project_1_VEL205M.html"> Project 1</a></li>
                            <li><a href="Project_2_VEL205M.html"> Project 2</a> </li>
                            <li><a href="Final_Project_VEL205M.html"> Final Project</a> </li>
                        </ul>
                    </li>
                </ul>
            </nav>

        <!-- Main -->
            <div id="main" class="alt">

            <!-- One -->
                <section id="one">
                    <div class="inner">
                        
                    <!-- Final Project -->
                        <h1>Final Project - Blue tooth car follower <br> 
                            Work in progress (last updated 24. april)</h1>
                        
                        <span class="image main"><img src="images/Bt_car.png" alt="" /></span>
                        
                        <div>
                            <h2> Project description</h2>
                            
                            <p style="text-align: justify" >
                                The goal of the project is to design a prototype of a car that follows a person via wireless connection (bt or simmilar). The car will be controlled with an app in your smartphone. There will be 2 settings, manual and automatic control. The manual control would be a simple control (forward, backwards, turn left, turn right, increase / decreese speed). We will be mainly focusing on the automatic control. An accelerometer will be used for tracking the position of the user and the car will mimmick / follow based on the accelerometer data.    
                            </p>                            
                        </div>
                        <div>
                            <a href ="https://www.youtube.com/watch?v=-Jn_WhLMg9U&t=402s"> Video that shows how manual mode works.</a> <br>
                            <a href = "https://www.youtube.com/watch?v=FIc67Z_X9Kk"> Car race for best lap time </a> <br>
                            <a href = "https://www.youtube.com/watch?v=XTTTgZOBoFo&t=76s">Testing useability of the car control. </a>
                        </div>
                        
                    <!-- Project management -->
                        <h1> Project management </h1>
                        <h3>
                            <a href="VEL205M-Tolvustyrdurvelbunadur/FinalProjectReport.pdf">Diary for the work done (click here)</a>
                        </h3>
                        
                        
                        <p style="text-align: justify">
                            List of things that need to be done:
                            <ol>
                                <li> Car chassis (Ási)</li> 
                                <li> Wireless control (Frosti)</li>
                                <li> Accelerometer (Frosti)</li>
                                <li> Motors (Ási)</li>
                                <li> Wheels (Ási)</li>
                                <li> Mechanical steering (Ási)</li>
                                <li> code (ChatGPT) </li>
                            </ol>
                        </p>
                        
                        
                    
                    <!-- Pre calculations -->
                        
                <!-- Hardware required -->
                        <div>
                            <h2> Hardware required</h2>
                            <ul class = "links">
                                <li> Arduino Uno R4 WiFi</li>
                                <li> 2 motors for driving</li>
                                <li> 1 motor for steering</li>
                                <li> Motor controllers</li>
                                <li> Accelerometer</li>
                                <li> Power suply</li>
                                <li> Hook-up wires</li>
                            </ul>
                            
                            <h3> Other components</h3>
                            <ul class="links">
                                <li> 3 or 4 wheels</li>
                                <li> Chassis </li>
                                <li> Axles</li>
                                <li> Mechanical steering</li>
                            </ul>                                
                        </div>
                <!-- components selection -->
                        <div>
                            <h2> Component selection</h2>
                            <u> Micro controller</u>: We used Arduino Uno and ESP32 for bluetooth connection. RasperryPI would probably be a better fit for bluetooth controlled car since it has a built in bluetooth module. We ended with Arduino Uno R4 WiFi which simplified the Bt / WiFi connection. <br>
                            
                            
                            <u>Motors</u>: Geared DC motors are usually better than steppers when it comes to traction drive of a robot. If you're going to use DC motors, you will probably need to find some that have encoders or navigation will be rather hit and miss at best. The inefficiency of steppers make them less than ideal for battery powered projects. <br>
                            
                            <u> Motor controllers</u>: <a href="https://dronebotworkshop.com/dc-motor-drivers/"> Guide to selecting motor controllers for DC motors.</a>: <b>Voltage</b> for DC motors can be anywhere between 50% of the "suggested voltage" but it is not reccomended to exceed it by more than 30%. A motor driver should have <b>current</b> that is rated 30 - 50% above the rated current for the DC motor.
                            <br>
                            
                            <u> Power supply</u>: We used a 6V battery consisting of 4 1.5V batteries connected in series to power the motor controller. For the Arduino we used a power bank (most power banks are suitable for arduino since it needs simmilar power supply as most smart phones).
                            <br>
                            
                            <u>Acceleromter</u>: We tried using an accelerometer for position control, It did not turn out well. In 60 secounds the calculated position of the car had shifted approximately 15m in x direction and 12m in y direction when the car was completely stationary.
                            <br>
                            
                            <u>Wheels</u>: <a href="https://dronebotworkshop.com/real-robot-004/">article on wheels for robotics.</a> standard wheels for driving and omni wheels for idler is probably a good fit.<br>
                            
                            <u>Chassis</u>: The chassis was fairly simple, just 2 laser cut plates connected with 3D printed objects and other things. If we were to continue the project we would design a chassis that would protect vital parts from rain. We would also make special slots for electric components to be placed. If that would turn out well and GPS connection would work we would add a suspension system and scale the project up to make it more simmilar to a golf club trollies.
                            
                        </div>
                <!-- DC motor control -->
                        <div>
                            <h2> DC motors</h2>
                            <p style="text-align: justify">
                                <span class="image main"><img src="images/20240417_234026.jpg" alt="" /></span>
                                The code for DC motors can be found on github or just ask ChatGPT. 
                            </p>
                        </div>
                            
                        
                <!-- Bluetooth connection -->
                        <div>
                            <h3> ESP32-C3 XIAO (was ment to be used for wireless connection)</h3>
                            <p style="text-align: justify">
                                I used this link <a href="https://wiki.seeedstudio.com/XIAO_ESP32C3_Getting_Started/">https://wiki.seeedstudio.com/XIAO_ESP32C3_Getting_Started/</a> for tutorial.
                                <br>
                                <u>First test</u>: LED test, I started by testing if the ESP32 could make the LED light blink and it worked well (took only 5 minutes).
                                <br>
                                <br>
                                <u>Second test</u>: <a href="https://wiki.seeedstudio.com/XIAO_ESP32C3_Bluetooth_Usage/">Bluetooth tutorial</a> <br>
                                Here you can see a screenshot of the messages sent from phone to ESP32-C3 via bluetooth connection.
                                
                                <span class="image main"><img src="images/Bt_test_2.png" alt="" /></span>
                                
                                <br>
                                <br>
                                <u> Third test</u>: 
                                <a href = "https://icircuit.net/arduino-interfacing-arduino-uno-esp32/2134">Interfacing Arduino Uno with ESP32</a>.
                                <br>
                                This turned out to be quite complicated and we ended up switching to Arduino Uno R4 WiFi.
                                
                                <br>
                                
                                                              
                            </p>
                            
                            
                            <h3> Arduino UNO R4 WiFi</h3>
                            <a href = "https://www.arduino.cc/reference/en/libraries/arduinoble/"> Bluetooth documentation</a>
                            We will be using the <b>Notify</b> section for the accelerometer. The <b> Central and Peripheral Devices</b> gives a good explenation on how bluetooth connections work. Central = clients, Peripheral = servers. <b>Library structure</b> chapter shows the main classes for bluetooth connections.
                            <br>
                            <br>
                            <u> Fourth test</u>: Transfer positioning data via bluetooth 
                            <br>
                            We never got to testing this since we deemed the accelerometer unable to calculate the position of the car with accebtable error.
                            <br>  
                            <br>
                            <u> Fifth test</u>: Control motors via wireless connection.
                            <br>
                            This worked well once the WiFi connection was established.
                            
                            
                            <h3> Arduino cloud</h3>
                            <a href = "https://app.arduino.cc/things ">Arduino IoT UI</a>, This webpage was used to create wireless connections between a phone and the car. It was also used for creating the code and monitoring serial ouput when testing.                         
                            
                            <a href ="https://www.youtube.com/watch?v=iWJJfQ3NIWQ&list=PLXkPD0wi6XzuRkHmio5bcsyMYkz1WgWaS&index=9"> Arduino IoT DC motor tutorial</a>
                            
                            When connecting Arduino UNO R4 to the internet you need to make sure that the SECRET_SSID = Wi-Fi name and SECRET_OPTIONAL_PASS = Wi-Fi password. Both your phone and Arduino need to be connected to the same WiFi
                            
                        </div>
                <!-- Accelerometer -->
                        <div>
                            <h2> Accelerometer (ADXL343)</h2>
                            We tried using an accelerometer to calculate the position of the car. A GPS tracker would be more precise but it is more expensive and it wasn't available so we would have had to order it online and wait 2 - 3 weeks for it's arrival. and therefore we chose an acceleromter. The datasheet for the accelerometer can be found by google-ing. <br>
                            <span class="image main"><img src="images/accelerometer_pinout.png" alt="" /></span>
                            <ul>
                                <li> Connect SCL on the Metro to SCL (yellow wire) on the ADXL343
                                </li>
                                <li>
                                    Connect SDA on the Metro to SDA (blue wire) in the ADXL343
                                </li>
                                <li> Connect GND on the Metro to GND (black wire) on the ADXL343
                                </li>
                                <li>
                                For 3.3V LOGIC boards: connect 3.3V on the Arduino/Metro to VIN (red wire) on the ADXL343
                                </li>
                                <li>For 5.0V LOGIC boards: Connect 5V on the Arduino/Metro to VIN (red wire) on the ADXL343
                                </li>                            
                            </ul>
                            <a href = "https://learn.adafruit.com/adxl343-breakout-learning-guide?view=all">Tutorial</a>
                            
                            
                        </div>
                    
                    
                <!-- Circuit diagrams -->
                        <div>
                            <h2> circuit diagrams </h2>
                            <div>
                                The circuit was very simple and does not need special explanation. It is basically the same as other DC motors circuits and Accelerometer circuits.
                            </div>
                        </div>
                <!-- tutorials -->
                        <div>
                            <h2> Tutorials</h2>
                            Will be added later.
                        </div>
                
                    </div>

                </section>

            </div>

        <!-- Footer -->
            <footer id="footer">
                <div class="inner">
                    <ul class="icons">
                        <li><a href="https://www.facebook.com/frosti.hlyns/" class="icon brands alt fa-facebook-f"><span class="label">Facebook</span></a></li>
                        <li><a href="https://www.instagram.com/frostihlynsson/" class="icon brands alt fa-instagram"><span class="label">Instagram</span></a></li>
                        <li><a href="https://github.com/Frostmanfunk/frosti.github.io" class="icon brands alt fa-github"><span class="label">GitHub</span></a></li>
                    </ul>
                    <ul class="copyright">
                        <li>&copy; Vefsíðu sniðmáti stolið af: <a href="https://html5up.net">HTML5 UP</a></li>
                    </ul>
                </div>
            </footer>

        </div>

		<!-- Scripts -->
			<script src="assets/js/jquery.min.js"></script>
			<script src="assets/js/jquery.scrolly.min.js"></script>
			<script src="assets/js/jquery.scrollex.min.js"></script>
			<script src="assets/js/browser.min.js"></script>
			<script src="assets/js/breakpoints.min.js"></script>
			<script src="assets/js/util.js"></script>
			<script src="assets/js/main.js"></script>

	</body>
</html>